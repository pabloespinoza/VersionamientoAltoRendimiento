@model AltoRendimiento.Models.Geolocalizacion

<div class="modal-header">
    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
    <h4 class="modal-title" id="myModalLabel">¿Esta seguro que desea eliminar este registro?</h4>
</div>

<div class="modal-body">
    <label class="text-danger" style="font-size:small" id="resultadoMapa">Aviso: Recuerde que esta ubicación puede estar siendo utilizada por mas de un beneficiario, para mayor información presione sobre la opción editar del listado.</label>
    <dl class="dl-horizontal">

        <dt>
            Recinto
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Recinto.recNombre)
        </dd>
        <dt>
            Descripción
        </dt>

        <dd>
            @Html.DisplayFor(model => model.geoDescripcion)
        </dd>
        

    </dl>

    <script src="//maps.google.com/maps/api/js?sensor=false&callback=initialize" type="text/javascript"></script>
    <script type="text/javascript">
        var map; var geocoder;
        function initialize() {
            map = new google.maps.Map(document.getElementById("map"), { zoom: 15, center: new google.maps.LatLng(@Html.Raw(Model.Coordenadas)), mapTypeId: google.maps.MapTypeId['ROADMAP'] });
            var marker = new google.maps.Marker({
                position: new google.maps.LatLng(@Html.Raw(Model.Coordenadas)),
                title: "@Html.Raw(Model.Recinto.recNombre)"
            });
            marker.setMap(map);
        }

        function codeAddress() {
            var address = document.getElementById('address').value;
            geocoder.geocode({ 'address': address }, function (results, status) {
                if (status == google.maps.GeocoderStatus.OK) {
                    map.setCenter(results[0].geometry.location);
                    var marker = new google.maps.Marker({
                        map: map,
                        position: results[0].geometry.location
                    });
                } else {
                    alert('Geocode was not successful for the following reason: ' + status);
                }
            });
        }
    </script>
    <div class="map" id="map" style="width:550px; height:200px; margin-bottom:5px;"></div>

</div>

@using (Html.BeginForm())
{
    @Html.AntiForgeryToken()

    <div class="modal-footer">
        <button type="button" class="btn btn-sm btn-danger pull-left" data-dismiss="modal">Cancelar</button>
        <button type="submit" class="btn btn-sm btn-success">Aceptar</button>
    </div>
}
